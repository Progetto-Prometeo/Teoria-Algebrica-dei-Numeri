\chapter{Teoria elementare dei numeri}
\label{lezione1}
\epigraph{\textit{\enquote{La matematica è la regina delle scienze e la teoria dei numeri è la regina della matematica. \\ Non è la conoscenza ma l'atto di imparare, non il possesso ma l'arrivarci, che danno la gioia maggiore.}}}{Carl Friedrich Gauss}
Viene detta \enquote{elementare} non per la semplicità degli argomenti che tratta, quanto invece per la relativa semplicità degli strumenti matematici che utilizza. \\ \\
Per ora lavoreremo solo sul ben noto \textit{insieme dei numeri interi}
\begin{equation*}
	\mathbb{Z}= \left\{\dots,-2,-1,0,1,2,\dots\right\}
\end{equation*}
ma in seguito estenderemo i risultati ai più generali \textit{domini d'integrità}. \\ 
Vediamo adesso alcuni brevi richiami di algebra; dovrebbero essere tutti fatti noti, ma saranno fondamentali. Per saperne di più sulla storia della teoria dei numeri, si veda \cite{D19}\cite{G97}.


\section{Aritmetica e numeri interi}
\subsection{$\mathbb{Z}$: elementi riducibili o primi?}
\begin{definizione}[Divisore] Siano $a,b \in \mathbb{Z}$; diciamo che \textbf{$a$ divide $b$} (oppure che \textbf{$a$ è un divisore di $b$}) se 
	\begin{equation*}
	\exists \ x \in \mathbb{Z} \ \text{tale che} \ b = a \cdot c
	\end{equation*}
	ed in notazione lo scriveremo come $a | b$.
\end{definizione}
\begin{proposizione}
	Siano $a,b$ in $\mathbb{Z}$. Allora valgono i seguenti:
	\begin{enumerate}
		\item $c|a, \ c|b \ \implies \ c|(a+b)$
		\item $c|a, \ c|(a+b) \ \implies \ c|b$
	\end{enumerate}
\end{proposizione}
\begin{proof}\ 
\begin{enumerate}
	\item Se $c|a$ e $c|b$ allora $a=k_a c$ e $b = k_b c$, otteniamo subito che $(a+b)=c(k_a+k_b)$. Concludiamo notando che $k_a+k_b$ appartiene a $\mathbb{Z}$.
	\item Come sopra, $a=k_ac$ ed $(a+b)=kc$ quindi $b=(k-k_a)c$. \\ Abbiamo trovato un elemento di $\mathbb{Z}$.
\end{enumerate}
\end{proof}
\begin{definizione}
	Sia $m$ appartenente a $\mathbb{Z}$, $m \neq \pm 1, 0$.
	\begin{enumerate}
		\item $m$ si dice \textbf{irriducibile} se per ogni $a$ e $b$ in $\mathbb{Z}$ con $m=ab$ allora uno tra $a$ e $b$ è invertibile (rispetto al prodotto).
		\item $m$ si dice \textbf{riducibile} se non è irriducibile (banalmente: se esistono degli $a$, $b$ in $\mathbb{Z}$ con $m=ab$ e nessuno dei due è invertibile rispetto al prodotto)
		\item $m$ si dice \textbf{primo} se per ogni $a$ e $b$ in $\mathbb{Z}$ con $m|ab$, allora $m|a$ oppure $m|b$. \footnote{Euclide postula che \enquote{\textit{un numero è primo se è misurato dall'unità}}}.
	\end{enumerate}
\end{definizione}
Intuitivamente i \textit{riducibili} sono detti tali perché possono essere \enquote{ridotti} ad un prodotto \enquote{sensato}. \\ \\ Le definizioni di irriducibili e primi in $\mathbb{Z}$ potrebbero trarci in inganno, perché la definizione a cui casualmente ci riconduciamo per i primi è in realtà la definizione formale degli irriducibili; in effetti è curioso, ed è dovuto al fatto che in $\mathbb{Z}$ le due definizioni coincidano (lo dimostreremo). \\ Altro fatto interessante è che accetteremo i numeri negativi come numeri primi.
\begin{esempio} Vediamo alcuni facili esempi.
	\begin{itemize}
		\item[$(8)$] Si noti che $8|40$ e $40=20\cdot 2$, inoltre $8$ non divide né $20$ né $2$. \\
		Allora 8 non è primo.
		\item[$(-7)$] Siccome $-7 = (-7)(1)=(7)(-1)$, allora è irriducibile.
		\item[$(12)$] Siccome $12 = (3)(4)$, allora è riducibile. 
		\item[$(5)$] Siccome $5 = (5)(1)=(-5)(-1)$, allora è irriducibile. 
		\item[$(-6)$] Siccome $-6 = (-3)(2)$, allora è riducibile. 
	\end{itemize}
\end{esempio}
\begin{definizione}[$\MCD$] Siano $a$ e $b$ in $\mathbb{Z}$ non entrambi nulli, allora diciamo loro \textbf{massimo comune divisore}:
	\begin{equation*}
		\MCD(a,b)=\max\left\{d \in \mathbb{Z} \ \text{tali che} \ d|a, \ d|b\right\}
	\end{equation*}
\end{definizione}
\begin{osservazione}
	Notiamo che il $\MCD$ è sempre positivo, infatti se uno dei due fosse zero varrebbe che \begin{equation*}
	\MCD(a,b)= |b|
	\end{equation*}
\end{osservazione}
\begin{teorema}[Divisione euclidea] Siano $a$ e $b$ in $\mathbb{Z}$, con $b \neq 0$. Allora esistono unici $q,r \in \mathbb{Z}$ tali che 
	\begin{equation*}
	a = qb + r \ \text{e vale che} \ 0 \leq r \leq |b|
	\end{equation*}
\end{teorema}
\begin{proof}
	Dimostriamo che $q$ ed $r$ esistono. \\ Supponiamo $a \leq 0$ e $b>0$ senza perdita di generalità; se $a=0$ basta prendere $q=r=0$. Possiamo quindi fissare $b$ e procedere per induzione $a$, con l'ipotesi induttiva che esistano per ogni coppia $(n,b)$ con $n<a$, voglio mostrare che esistono anche per la coppia $(a,b)$.
	\begin{itemize}
		\item Se $a<b$ basta prendere $q=0$ ed $r=q$, senza necessità di induzione.
		\item Se $a\geq b$ allora $a-b=c$ per un certo $c\geq 0$; posso usare l'ipotesi induttiva su $c$, quindi esistono $q'$ ed $r'$ tali che 
		\begin{equation*}
		c = q'b + r' \ \text{e vale che} \ 0 \leq r' \leq |b|
		\end{equation*}
		e chiaramente ottengo subito
		\begin{equation*}
		a = b+c = (q'+1)b + r' \ \text{e vale che} \ 0 \leq r' \leq |b|
		\end{equation*}
	\end{itemize}
Dimostriamo ora l'unicità. \\
Siano $q$ e $q'$, $r$ ed $r'$ tali che 
\begin{equation*}
a = qb + r= q'b + r'\ \text{e vale che} \ 0 \leq r,r' \leq |b|
\end{equation*}
Sia senza perdita di generalità $r \geq r'$, ma allora
\begin{equation*}
(q'-q)b=r-r' \ \ \ \ 0 \leq r-r' \leq |b|
\end{equation*}
Questo vuol dire che $b$ divide $r-r'$, ma per ipotesi $b\geq r,r'$,
quindi necessariamente $r-r'=0$ ed $r=r'$. Immediatamente segue $q=q'$. \\ \\ Notiamo che se non fosse per la condizione a lato l'unicità non varrebbe! \\ Ad esempio 
\begin{equation*}
16 = 4\cdot3+2
\end{equation*}
ma siccome abbiamo eliminato la richiesta $0\leq r \leq |b|=3$ allora posso accettare scritture del tipo
\begin{equation*}
16=10\cdot3-14
\end{equation*}
\end{proof}
\begin{osservazione}[Algoritmo di Euclide] Possiamo costruire un algoritmo per il calcolo del massimo comune divisore di due $a$ e $b$ generici in $\mathbb{Z}$. Ma come? La dimostrazione che abbiamo visto non è costruttiva. \\ \\ Facciamo alcune osservazioni.
	\begin{enumerate}
		\item Sia $c \in \mathbb{Z}$ tale che divide sia $a$ che $b$, allora scriviamo $a=kc$ e $b=hc$. Si noti che
		\begin{equation*}
		a=qb+r \implies kc = qhc+r \implies r = (k-qh)c
		\end{equation*}
		ovvero $c|r$, quindi i divisori comuni tra $a$ e $b$ dividono anche $r$. \\ Vediamo un esempio numerico, ovviamente $c=2$ divide sia $a=10$ che $b=8$; $a=2\cdot5$, $b=2\cdot4$, allora
		\begin{equation*}
		10=q8+r\implies(2\cdot5)=q(2\cdot4)+r\implies r=(5-4q)2
		\end{equation*}
		\item Sia ora $c\in \mathbb{Z}$ tale che divide sia $a$ che $r$, ovvero $b=ic$ ed $r=jc$.
		\begin{equation*}
		a=qb+r \implies a = qic+jc =(qi+j)c \implies c|a
		\end{equation*}
		quindi i divisori comuni tra $b$ ed $r$ dividono anche $a$.
		\item Unendo quanto appena visto e definendo
		\begin{equation*}
		A = \left\{\text{divisori comuni tra $a$ e $b$}\right\}
		\end{equation*}
				\begin{equation*}
		B = \left\{\text{divisori comuni tra $b$ e $r$}\right\}
		\end{equation*}
		possiamo notare che $A$=$B$, per definizione allora vale la seguente:
		\begin{equation*}
		\MCD(a,b)=\MCD(b,r)
		\end{equation*}
	\end{enumerate}
Vediamo \textbf{l'algoritmo di Euclide} per il calcolo di $\MCD(a,b)$.
\begin{align*}
 a &= q_1b + r_1 \ \ \ \ \ \ 0 \leq r_1 \leq |b|\\
 b &= q_2r_1 + r_2 \ \ \ \ \ \ 0 \leq r_2 \leq |r_1|\\
&\ \ \vdots \\
r_{n-2}&=q_{n}r_{n-1}+r_n\ \ \ \ \ \ 0 \leq r_n \leq |r_{n-1}|\\
r_{n-1}&=q_{n+1}r_n
\end{align*}
Vediamo riassunti in breve i passaggi tramite coppie di elementi di $\mathbb{Z}$:
\begin{equation*}
(a,b) \to (b,r_1)\to\dots\to(r_{n-1},r_n)
\end{equation*}
il loro significato è abbastanza ovvio. Siccome la successione dei resti è una successione di interi strettamente decrescenti e positivi è convergente, ed abbastanza evidentemente converge a $0$. L'ultimo resto non nullo è il massimo comune divisore cercato, ed il resto nullo esiste necessariamente per quanto appena detto: so che è possibile arrivarci con una quantità finita di passi. \\ \\ Ma il valore che otteniamo è \textit{veramente} il massimo comune divisore? Per quanto osservato all'inizio sì, infatti 
\begin{equation*}
\MCD(a,b)=\MCD(b,r_1)= \ \dots \ =\MCD(r_{n-1},r_n)=\MCD(r_{n},0)=r_n
\end{equation*}
e questo è un risultato tutt'altro che banale. \\ \\
L'algoritmo di Euclide sarà fondamentale in teoria dei numeri, ad esempio nella costruzione delle \textit{frazioni continue}.
\end{osservazione}
\begin{esempio}
	Proviamo a calcolare il massimo comune divisore tra $76$ e $58$.
	\begin{align*}
		76 &= q_158 + r_1 \ \ \ \ \ \ 0 \leq r_1 \leq |58| \ \implies \ (q_1,r_1)=(1,18)\\
		58 &= q_218 + r_2 \ \ \ \ \ \ 0 \leq r_2 \leq |18| \ \implies \ (q_2,r_2)=(3,4)\\
		18 &= q_34 + r_3 \ \ \ \ \ \ \ \ 0 \leq r_3 \leq |4| \ \ \implies \ (q_3,r_3)=(4,2)\\
		4 &= q_42 + r_4 \ \ \ \ \ \ \ \ 0 \leq r_4 \leq |2| \ \ \implies \ (q_4,r_4)=(2,0)
	\end{align*}
	Allora il massimo comune divisore tra $76$ e $58$ è il primo $r_i$ che precede il calore nullo, nel nostro caso $2$. Il nostro risultato ha senso? Sì, basta scomporre:
	\begin{align*}
	76 &=(19)(2)(2)\\
	58&=(29)(2)
	\end{align*}
	Non potremo sempre permetterci di scomporre, ad esempio non con numeri grandi e brutti, ma perché non provarlo almeno una volta? \\ \\ Cosa succederebbe se invece di scegliere $a=76$ e $b=58$ li invertissimo? Intuitivamente è chiaro che il massimo comune divisore debba risultare identico. Vediamolo.
	\begin{equation*}
	58 = q_176 + r_1 \ \ \ \ \ \ 0 \leq r_1 \leq |76| \ \implies \ (q_1,r_1)=(0,58)
	\end{equation*}
	Abbastanza curiosamente mi riconduco subito al caso iniziale, ma questo era prevedibile. Per risparmiare tempo e calcoli è sempre più comodo prendere $a\geq b$.
\end{esempio}



\subsection{$\mathbb{Z}$: elementi riducibili e primi!}
\begin{teorema}[Identità di Bezout] Siano $a$ e $b$ in $\mathbb{Z}$, $d$ il loro massimo comune divisore. Allora esistono degli $x,y \in \mathbb{Z}$ tali che
	\begin{equation*}
	d=ax+by
	\end{equation*}
\end{teorema}
\begin{proof}
	Sfrutto la sequenza dell'algoritmo di Euclide prendendo $d=r_n$. Ora posso \enquote{scalare} le uguaglianze, ed ottengo
	\begin{align*}
	d &  = r_n = r_{n-2}-q_nr_{n-1}= r_{n-2}-q_n(r_{n-3}-q_{n-1}r_{n-2}) \\ 
	& = (1+q_nq_{n-1})r_{n-2}+(-q_n)r_{n-3} = \dots
	\end{align*}
	Procedendo iterativamente trovo $x$ ed $y$. \\ \\ Questa dimostrazione al contrario di quella della divisione intera con resto è costruttiva, fornisce un algoritmo per ricavare $x$ ed $y$. \\ Sarebbe necessario scrivere esplicitamente $d$ per completare formalmente la dimostrazione, ma la scrittura diventerebbe pesante.
\end{proof}
Posso avere però lo stesso risultato tramite una formalizzazione più algebrica del precedente approccio aritmetico.
\begin{teorema}[Identità di Bezout] \
	\begin{enumerate}
		\item Siano $a$ e $b$ in $\mathbb{Z}$ non entrambi nulli, allora 
		\begin{equation*}
		I \eqqcolon \left\{na+mb \ | \ n,m \in \mathbb{Z}\right\}
		\end{equation*}
		è un ideale di $\mathbb{Z}$.
		\item Sia $I = (d)$, allora $d$ è il massimo comune divisore tra $a$ e $b$. \footnote{in algebra commutativa $I=(d)$ indica che \textbf{$d$ genera l'ideale $I$}, ovvero che ogni $i \in I$ ha forma $kd$ per un $k$ in $\mathbb{Z}$. Stiamo usando il fatto che $\mathbb{Z}$ sia un dominio ad ideali principali.}
	\end{enumerate}
\end{teorema}
\begin{proof}\
	\begin{enumerate}
		\item Perché $I$ sia un ideale, prima di tutto $(I,+)$ deve essere un sottogruppo di $(\mathbb{Z},+)$, il che è banalmente ovvio. Inoltre la differenza di due elementi $x,y \in I$ deve appartenere ad $I$. Ma questo è ovvio per costruzione,
		\begin{align*}
		x &= na+mb \\y&=ia+jb
		\end{align*}
		\begin{equation*}
		\implies x-y = (n-i)a+(m-j)b \in I
		\end{equation*}
		Altra condizione è che per ogni elemento $k$ dell'anello e per ogni $\alpha$ di $I$, $k\alpha$ appartenga ad $I$.
		\begin{equation*}
		k\alpha = k(na+mb)=(kn)a+(km)b\in I
		\end{equation*}
		\item Se $I=(d)$ ho che
		\begin{align*}
		a&=1a+0b \in I\\ b&=0a+1b \in I
		\end{align*}
		e quindi per ipotesi su $I$ ho che $a=cd$, $b=kd$. Inoltre se $d \in I$ allora posso usare la prima identità:
		\begin{equation*}
		\exists \ x,y \in \mathbb{Z} \ |\ d=xa+yb
		\end{equation*}
		Da questa ottengo che se esiste un $w$ che divide sia $a$ che $b$, allora $w$ divide $xa$ ed $yb$, quindi divide $d$. 
	\end{enumerate}
\end{proof}
\begin{esempio}
	Utilizzare l'algoritmo di Eulero per il massimo comune divisore di $3522$ e $321$, esprimerlo con l'identità di Bezout.
	\begin{align*}
	3522 &= (10)(321)+312\\
	321 &= (1)(312)+9\\
	312 &= (34)(9)+6\\
	9 &=(1)(6)+3\\
	6 &=(2)(3)+0
	\end{align*}
	Abbiamo già visto la procedura, quindi non ci soffermeremo troppo. Per esprimere $d$ come da identità basta ripercorrere la dimostrazione, ovvero 
	\begin{align*}
	\MCD(a,b)=3&= 9-6=9-(312-34\cdot9)=-312+35\cdot9\\
	&= -312+35(321-312)=35\cdot321-36\cdot312\\
	&= 35\cdot321-36\cdot(3522-10\cdot321)=-36\cdot3522+395\cdot321
	\end{align*}
	I calcoli diventano molto brutti molto in fretta.
\end{esempio}
\begin{teorema}
	Sia $n \in \mathbb{Z}$ diverso da $\pm 1,0$, allora
	\begin{equation*}
	n \ \text{irriducibile} \ \iff \ n \ \text{primo}
	\end{equation*}
\end{teorema}
\begin{proof}\
	\begin{itemize}
		\item[$\implies$] Devo dimostrare che $n$ è primo, supponiamo che $n|ab$; devo dimostrare che $n|a$ oppure $n|b$ cerchiamo di dimostrare ad esempio che $n$ non divide $a$ ma divide $b$.
		\begin{equation*}
		n|ab \implies ab=kn \ \ \ k \in \mathbb{Z}
		\end{equation*}
		Siccome $n$ è irriducibile, i suoi soli divisori sono $\pm 1$ e $\pm n$, dunque il massimo comune divisore tra $a$ ed $n$ è 1. Per Bezout 
		\begin{equation*}
		1=xa+yn
		\end{equation*}
		\begin{equation*}
		b=b\cdot1=b(xa+yn)=x(ab)+n(by)=(xk+by)n
		\end{equation*}
		ed abbiamo ottenuto che $n$ divide $b$.
		\item[$\impliedby$] Sia $n=ab$, allora $n$ divide $a$ oppure $n$ divide $b$. Supponiamo senza perdita di generalità che valga solo la prima, allora $a=kn$ per un certo $k$ intero.
		\begin{equation*}
		n = ab = nkb \implies 1 = kb \implies b = \pm 1
		\end{equation*}
		ed abbiamo ottenuto che $n$ è irriducibile.
	\end{itemize}
\end{proof}
\begin{teorema}[Teorema fondamentale dell'aritmetica] 
	Sia $n \in \mathbb{Z}$ diverso da $\pm 1,0$; allora esiste una ed un'unica fattorizzazione del tipo
	\begin{equation*}
	n = \pm p_1\cdot p_2 \cdot \ \dots\ \cdot p_s
	\end{equation*}
	composta da $p_i$ primi positivi di $\mathbb{Z}$
\end{teorema}
\begin{proof} Dimostriamo che esiste. \\ Suppongo senza perdita di generalità che $n>0$, se $n=2$ ho già la fattorizzazione
	\begin{equation*}
	n = 2 = p_1 \ \ (s=1)
	\end{equation*}
	Ma allora posso usare un grande classico, l'induzione: procediamo inducendo su $n$. Se la fattorizzazione esiste per ogni intero tra $2$ ed $n-1$ (inclusi):
	\begin{itemize}
		\item Se $n$ è irriducibile allora è primo per caratterizzazione dei primi in $\mathbb{Z}$, e come prima $n=p_1$ con $s=1$.
		\item Se $n$ è riducibile, allora $n=ab$ con $a,b<n$; ma per ipotesi induttiva le fattorizzazioni di $a$ e $b$ in primi esistono, basta moltiplicarle tra di loro.
	\end{itemize}
	Dimostriamo l'unicità. \\ Pongo $n>0$ senza perdita di generalità e suppongo di avere
	\begin{equation*}
	 n= p_1\cdot p_2 \cdot \ \dots\ \cdot p_s= q_1\cdot q_2 \cdot \ \dots\ \cdot q_t \ \ (s \leq t)
	\end{equation*}
	Posso osservare che $p_1$ divide $n$, ed essendo primo si ha che $p_1$ divide un $q_i$ per un qualche indice $i$. Ma siccome $q_i$ è irriducibile deve necessariamente essere $p_1=q_i$. Allora ottengo una seconda fattorizzazione rimuovendoli, ripetendo il ragionamento $s$ volte otterrei (a meno di riordinamento)
	\begin{equation*}
	1 = q_{s+1}\cdot \ \dots \ q_t
	\end{equation*}
	che è un assordo siccome 1 non ha fattori irriducibili: allora deve essere $s=t$. \\ Abbiamo già visto la necessità di $q_j = q_i$ per certi indici $i$ e $j$ opportuni, questo chiude la dimostrazione.
\end{proof}
Più avanti cercheremo di ottenere risultati \enquote{simili} al teorema fondamentale ma su strutture diverse dall'anello $\mathbb{Z}$. Non sempre sarà una situazione facile da trattare come quella dei numeri interi, ad esempio gli invertibili rispetto al prodotto potrebbero non essere $\pm 1$! \\ Avere risultati del genere sarà più fondamentale e meno scontato rispetto agli interi, è importante tenere a mente che ci troviamo in una situazione privilegiata.




\subsection{L'infinità dei numeri primi}
\label{lezione2}
Siccome siamo tra matematici potete ammetterlo tranquillamente, quante volte vi è capitato di avere il seguente discorso?\\
- \enquote{\textit{Quanti sono i numeri primi?}}\\
- \enquote{\textit{Tanti.}}\\ \\
Se la risposta è \textit{nessuna}, siamo ancora in tempo per rimediare.
\begin{teorema}
	Esistono infiniti numeri primi.
\end{teorema}
\begin{proof}[Dimostrazione di Euclide] Supponiamo che i numeri primi siano finiti, allora possiamo prenderli come $p_1, \ \dots, \ p_n$ (positivi). Sia
	\begin{equation*}
	N = p_1 \cdot \ \dots \ \cdot p_n +1
	\end{equation*}
	Siccome ci troviamo in $\mathbb{Z}$ possiamo applicare il teorema fondamentale dell'algebra, esiste una ed un'unica fattorizzazione in primi di $N$. Allora uno dei primi che lo fattorizza è anche un suo divisore, ma necessariamente non è uno dei $p_i$; se lo fosse infatti avremmo 
	\begin{equation*}
	p|N, \ \ p|p_1 \cdot \ \dots \ \cdot p_n
	\end{equation*}
	e per proprietà dei divisori questo implica che $p|1$, assurdo a causa della definizione di primo.
\end{proof}
\begin{proof}[Dimostrazione di Eulero] 
	Supponiamo che i numeri primi siano finiti, allora possiamo prenderli come $p_1,\dots, p_n$. Per fatti ben noti di analisi matematica possiamo costruire una serie geometrica di natura convergente
	\begin{equation*}
	\sum_{k=0}^{+\infty}\left(\frac{1}{p_i}\right)^k=\frac{1}{1-\left(\frac{1}{p_i}\right)} \ \ \ i=1,\dots,n
	\end{equation*} 
	Allora possiamo riscrivere come:
	\begin{equation*}
	\prod_{i=1}^n\left(\sum_{k=0}^{+\infty}\left(\frac{1}{p_i}\right)^k\right)=\prod_{i=1}^n\left(\frac{1}{1-\left(\frac{1}{p_i}\right)}\right)
	\end{equation*}
	Ma questo è un assurdo. Infatti osserviamo i due membri, a destra abbiamo un valore chiaramente finito ed a sinistra 
	\begin{equation*}
	\left(1+\frac{1}{p_1}+\frac{1}{p_1^2}+ \ \dots\right)\left(1+\frac{1}{p_2}+\frac{1}{p_2^2}+ \ \dots\right)\dots
	\end{equation*}
	che è un valore infinito, perché per teorema fondamentale dell'aritmetica deve darmi la sommatoria $\sum_{n=1}^{+\infty}\frac{1}{n}$. Si noti che sto ancora usando l'ipotesi di finitezza dei primi, ed ho ottenuto la serie armonica (divergente).
\end{proof}
\begin{proof}[Dimostrazione di Metrod] 
	Supponiamo che i numeri primi siano finiti, allora possiamo prenderli come $p_1, \ \dots, \ p_n$. Consideriamo
	\begin{equation*}
	N = p_1 \cdot \ \dots \ \cdot p_n, \ \ \ Q_i = \frac{N}{p_i} \ \ i=1,\dots,n
	\end{equation*}
	allora palesemente $p_i$ non divide $Q_i$ per ogni $i$, ma divide $Q_j$ per ogni $i\neq j$. Sia $S=\sum_{i=1}^nQ_i$, esiste un primo $q$ che divide $S$ (per teorema fondamentale dell'algebra) e non sia nessuno dei $p_i$ (questo per costruzione dei $Q_i$).
\end{proof}
\begin{proof}[Dimostrazione di Cerruti] 
	Consideriamo la \textit{funzione di Legendre}: 
	%todo: funzione di legendre? wtf? introdurre le nuove funzioni?
	\begin{equation*}
	\phi(x,y)=\left|\left\{n\in \mathbb{N} \ | \ \text{$1\leq n \leq x$, $n$ non ha fattori primi $p\leq y$}  \right\}\right|
	\end{equation*}
	questa funzione è definita per ogni $x,y \in \mathbb{N}^*$.\footnote{$\mathbb{N}^*$ è l'insieme dei naturali meno lo zero, questa notazione si usa spesso in teoria dei gruppi per definire gruppi abeliani moltiplicativi del tipo $(\mathbb{N}^*, \cdot)$.}
	\\ Consideriamo inoltre la \textit{prime counting function} $\pi(x)$, in particolare la sua proprietà
	\begin{equation*}
	\pi(x)=\pi(\sqrt{x})+\phi(x,\sqrt{x})-1
	\end{equation*}
	Come è immaginabile questa funzione \enquote{conta} il numero di primi minori o uguali di $x$. Si noti che la proprietà notevole di $\pi(x)$ si basa sul fatto che i fattori primi di $x$ sono minori (al più uguali) della sua radice. \\ Allora siano $p_1,\dots, p_s$ i numeri primi minori o uguali ad $y$, per principio di inclusione-esclusione\footnote{la cardinalità dell'unione di due insiemi $A$ e $B$ è la cardinalità di $A$ più quella di $B$ meno la loro intersezione.} otteniamo
	\begin{equation*}
	\phi(x,y)=x-\sum_{1\leq i \leq s}\left[\frac{x}{p_i}\right]+\sum_{1\leq i,j \leq s}\left[\frac{x}{p_ip_j}\right]+ \dots \ + (-1)^s\left[\frac{x}{p_i\dots p_s}\right]
	\end{equation*}
	Se questo fosse l'insieme di tutti e soli i numeri primi potremmo considerare $N=p_1\dots p_s$. Per definizione della funzione di Legendre vale
	\begin{equation*}
	\phi(N^2,N)=1
	\end{equation*}
	ma per quanto abbiamo appena visto dalla formula
	\begin{align*}
	\phi(N^2,N)&=1\\
	&=N^2-\sum_{1\leq i \leq s}\left[\frac{N^2}{p_i}\right]+\sum_{1\leq i,j \leq s}\left[\frac{N^2}{p_ip_j}\right]+ \dots \ + (-1)^s\left[\frac{N^2}{p_i\dots p_s}\right]N^{-1} = mN
	\end{align*}
	per un certo $m$ intero. \\ In sintesi se i primi fossero solo $s$ ogni elemento non nullo sarebbe invertibile; quindi se fosse vero $\mathbb{N}$ sarebbe un campo, cosa che non è vera (ad esempio non è nemmeno un anello commutativo con unità perché l'abeliano $(\mathbb{N}^*,\cdot)$ non ha un inverso moltiplicativo, oppure perché $(\mathbb{N},+)$ non ha un inverso additivo).
\end{proof}




\subsection{Le funzioni aritmetiche su $\mathbb{N}$}
Da adesso in poi useremo per comodità la notazione $(n,m)$ per indicare il massimo comune divisore tra $m$ ed $n$.\\ Nel caso dovesse essere ambigua (ad esempio in presenza del generatore di un ideale) torneremo alla notazione meno compatta.
\begin{definizione}(Funzione aritmetica in letteratura) 
	\enquote{\textit{Dico \textbf{funzione aritmetica} una funzione $f(n)$ definita su tutti gli $n \in \mathbb{N}$, solitamente costruita come funzione a valori complessi}
	\begin{equation*}
	f:\mathbb{N}\longrightarrow\mathbb{C}
	\end{equation*}
	\textit{In molti dei casi più importanti $f(n))$ è un intero che descrive una proprietà di $n$ nella teoria dei numeri.}} \\ \\
	%todo: riferimento bibliografico, elementary number theory di G Jones, M Jones; capitolo 8 pagina 143
	\enquote{\textit{Funzioni $f(n)$ sugli interi positivi definite in modo da esprimere una proprietà aritmetica di $n$ sono dette \textbf{funzioni aritmetiche}. }}
	%todo: bib, Handy e Wright, introduction to the theory of numbers, capitolo 16 pagina 233 edizione 4
\end{definizione}
Non sempre è facile definire le funzioni aritmetiche, difatti come abbiamo visto possono essere date definizioni molto diverse ma nello stesso spirito. \\ Per noi una funzione sarà tale solo se avrà valori in $\mathbb{C}$, ma sottintenderemo la sua capacità del rappresentare una proprietà di $n$ (non ci interessa che le funzioni senza tali proprietà siano aritmetiche o meno). 
\begin{definizione}[Funzione aritmetica]
	Diciamo \textbf{funzione aritmetica} una generica
	\begin{equation*}
	f:\mathbb{N}\longrightarrow\mathbb{C}
	\end{equation*}
\end{definizione}
Le funzioni aritmetiche sono fondamentali in teoria dei numeri, perché come abbiamo letto esprimono tramite valori di $f(n)$ alcune proprietà di $n$. \\ Ad esempio una funzione aritmetica può essere
\begin{itemize}
	\item \textbf{Additiva}, $f(n+m)=f(n)+f(m) \ \forall m,n \in \mathbb{N}$ tali che $(n,m)=1$.
	\item \textbf{Completamente additiva}, $f(n+m)=f(n)+f(m) \ \forall m,n \in \mathbb{N}$.
	\item \textbf{Moltiplicativa}, $f(n\cdot m)=f(n)\cdot f(m) \ \forall m,n \in \mathbb{N}$ tali che $(n,m)=1$.
	\item \textbf{Completamente moltiplicativa}, $f(n\cdot m)=f(n)\cdot f(m) \ \forall m,n \in \mathbb{N}$.
\end{itemize}
\begin{proposizione}
	\label{somma_moltiplicativa}
	Se $f$ è una funzione aritmetica moltiplicativa, allora 
	\begin{equation*}
	g(n)\coloneqq \sum_{d|n}f(d)
	\end{equation*}
	è una funzione aritmetica moltiplicativa.
\end{proposizione}
\begin{proof}
	Devo semplicemente dimostrare che $g$ è moltiplicativa seguendo la definizione. Siano allora $m,n \in \mathbb{N}$ tali che $(n-m)=1$.
	\begin{align*}
	g(m \cdot n)&=\sum_{d|mn}f(d)=\sum_{a|m}\sum_{b|n}f(a\cdot b)=\sum_{a|m}\sum_{b|n}f(a)\cdot f(b) \\
	&=\left[\sum_{a|m}f(a)\right]\cdot\left[\sum_{b|n}f(b)\right]=g(m)\cdot g(n)
	\end{align*}
	Nel secondo passaggio ho usato il fatto che se $d$ divide $mn$, allora $d$ è il prodotto di certi $a$ e $b$ coprimi tali che uno divide $m$ e l'altro divide $n$.
\end{proof}
Vediamo alcune delle più importanti funzioni algebriche.
\paragraph{Funzione di Eulero} \ \\ Detta anche \textit{Euler's totient function}.
\begin{align*}
\varphi: \mathbb{N}&\longrightarrow \mathbb{N}\\
n &\longmapsto |\mathbb{Z}_n^*|
\end{align*}
La proprietà di teoria dei numeri che la funzione di Eulero descrive è (abbastanza ovviamente) la cardinalità dell'insieme
\begin{equation*}
\left\{m\in\mathbb{N} \ | \ 1\leq m \leq n, \ (m,n)=1\right\}
\end{equation*}
\paragraph{Funzione di M\"obius}
\begin{align*}
\mu: \mathbb{N}&\longrightarrow \left\{-1,0,1\right\}\\
n &\longmapsto 
\begin{cases}
1 \  & \text{se $n=1$}\\
0 \  & \text{se $n\neq1$ non è libero da quadrati}\\
(-1)^k \  & \text{se $n\neq1$ è libero da quadrati, $n=p_1\dots p_k$}\\
\end{cases}
\end{align*}
La proprietà descritta è palese; vediamo qualche esempio.
\begin{esempio}
	\begin{align*}
	&\mu(7)=-1	\\ 
	&\mu(18)=\mu(3^2\cdot2)=0\\
	&\mu(30)=\mu(2\cdot3\cdot5)=-1\\
	&\mu(6)=\mu(2\cdot3)=1
	\end{align*}
\end{esempio}
\begin{osservazione}[Proprietà] \
	\begin{enumerate}
		\item Vediamo che la funzione è moltiplicativa. Siano i $p_i$ primi distinti e siano gli $e_i$ esponenti (interi) maggiori di $1$.
		\begin{equation*}
		\mu(p_1\dots p_k)=(-1)^k \iff \mu(p_1)\cdot \ \dots \ \cdot \mu(p_k)=(-1)^k
		\end{equation*}
		\begin{equation*}
		\mu(p_1^{e_1}\dots p_k^{e_k})=0 \iff \mu(p_1^{e_1})\cdot \ \dots \ \cdot \mu(p_k^{e_k})=0
		\end{equation*}
		Nel secondo caso (valori non liberi da quadrati) le due implicazioni sono banali, nel primo basta osservare che necessariamente il prodotto di primi è libero da quadrati se tutti i primi sono diversi tra loro (coprimi e liberi da quadrati).
		\item La funzione non è completamente moltiplicativa.
		\begin{align*}
		\mu(12)&=\mu(2^2\cdot3)=0\\ &\neq \mu(6)\cdot \mu(2)=(1)(-1)
		\end{align*}
		\item La funzione non è additiva.
		\begin{align*}
		\mu(2)&=1\\
		&\neq \mu(1)+\mu(1)=0+0
		\end{align*}
		Siccome il massimo comune divisore tra $2$ ed $1$ è $1$, $\mu$ non è additiva.
		\item La funzione non è completamente additiva. 
		\begin{center}
			Non essendo additiva, ovviamente \\ non può essere completamente additiva.
		\end{center}
		
	\end{enumerate}
\end{osservazione}
\begin{proposizione}
	\label{somma_moebius}
	\begin{equation*}
	\sum_{d|n}\mu(d)=
	\begin{cases}
	1 \ & \text{se $n=1$}\\
	0 \ & \text{se $n>1$}
	\end{cases}
	\end{equation*}
\end{proposizione}
\begin{proof} 
	Sia $N=p_1^{e_1}\dots p_k^{e_k}$ sotto le opportune ipotesi (viste prima); siccome per $N=1$ la dimostrazione è banale, sia anche $N>1$.
	\begin{align*}
	\sum_{d|n}\mu(d)&=1+\sum_i\mu(p_i)+\sum_{i,j}\mu(p_ip_j)+\dots\\
	&= 1-k+\binom{k}{2}-\binom{k}{3}+\ \dots \ +(-1)^k=(1-1)^k=0
	\end{align*}
	Ho usato pesantemente in entrambi i passaggi la definizione di $\mu$; nel primo è bastato il fatto che non appena un primo è almeno elevato alla seconda la funzione restituisca zero, nel secondo invece si è solo valutata $\mu$.
\end{proof}
\begin{teorema}[Formula di inversione di M\"obius]
	Siano $f$ e $g$ due funzioni aritmetiche. Se vale 
	\begin{equation*}
	f(n)=\sum_{d|n}g(d)
	\end{equation*}
	allora possiamo scrivere
	\begin{equation*}
	g(n)=\sum_{d|n}\mu\left(\frac{n}{d}\right)f(d)=\sum_{d|n}\mu(d)f\left(\frac{n}{d}\right)
	\end{equation*}
\end{teorema}
\begin{proof}
	Iniziamo osservando che dato un divisore $d$ di $n$ (ovvero un valore tale che $n/d$ è intero) possiamo scrivere
	\begin{align*}
	\sum_{d|n}\mu\left(\frac{n}{d}\right)f(d)&=\sum_{e\cdot d=n}\mu(e)f(d)=\sum_{e|n}\mu(e)f\left(\frac{n}{e}\right)\\
	&=\sum_{d|n}\mu(d)f\left(\frac{n}{d}\right)
	\end{align*}
	dato che $e$ è divisore di $n$.
	\begin{align*}
	\sum_{d|n}\mu\left(\frac{n}{d}\right)f(d)&=\sum_{d|n}\mu\left(\frac{n}{d}\right)\sum_{d'|d}g(d')=\sum_{d'|d|n}g(d')\mu\left(\frac{n}{d}\right)\\
	&=\sum_{d'|\frac{n}{m}|n}g(d')\mu\left(m\right)
	\end{align*}
	%todo: notazione strana
	dove abbiamo usato le seguenti osservazioni:
	\begin{enumerate}
		\item ho definito $m=\frac{n}{d}$
		\item se $d$ e $d'$ sono divisori di $n$, allora $d'|d$ vale se e solo se $\frac{n}{d}|\frac{n}{d'}$
		\item se $d'$ ed $\frac{n}{m}$ sono divisori di $n$, allora $d'|\frac{n}{m}$ vale se e solo se $m|\frac{n}{d'}$
	\end{enumerate}
	Per la proposizione \ref{somma_moebius} sappiamo che nella sommatoria sopravvivono elementi solo per $d'=n$, quindi otteniamo la tesi.
\end{proof}
\paragraph{Funzioni dei divisori}
\begin{equation*}
\sigma_k(n)=\sum_{d|n}d^k
\end{equation*}
\begin{equation*}
d(n)=\sum_{d|n}1
\end{equation*}
Notiamo che $\sigma_0(n)=d(n)$ e $\sigma_1(n)=\sigma(n)$, la funzione somma dei divisori di $n$. \\ Abbastanza evidentemente $d(n)$ restituisce il numero di divisori di $n$. Invece $\sigma_k(n)$ è la somma delle $k$-esime potenze dei divisori di $n$.
%todo: cosa sarebbe sigma?
\begin{teorema}
	Le due funzioni sono moltiplicative.
\end{teorema}
\begin{proof}
	Osserviamo che le due funzioni $u(n)=1$ e $\operatorname{id}(n)=n$ sono aritmetiche e moltiplicative. Ma allora
	\begin{equation*}
	d(n)=\sum_{d|n}1=\sum_{d|n}u(d)
	\end{equation*}
	\begin{equation*}
	\sigma(n)=\sum_{d|n}d=\sum_{d|n}\operatorname{id}(d)
	\end{equation*}
	e quindi per la proposizione \ref{somma_moltiplicativa} sono moltiplicative.
\end{proof}




\section{Divisibilità in domini di integrità}




\section{Aritmetica modulare: anelli di classi di resto}




\section{Residui quadratici}
